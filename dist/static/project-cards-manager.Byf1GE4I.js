import{j as e}from"./jsx-runtime.EKYJJIwR.js";import{i as d}from"./index-browser.DmCZ7H2o.js";import{r as m}from"./index.DrxKNVES.js";import{c as D,p as F}from"./middleware.BnB6WXUL.js";import{P as b}from"./common.Dl7uHOGF.js";import{H as Z,a as z}from"./heart.CKAq_hXH.js";import{S as h,a as k,b as f,c as S,d as l,e as T,f as H}from"./select.BKrJ3BO-.js";import{P as g,S as y,a as N}from"./transcriptions.BDQUoU-M.js";import{i as w}from"./is-defined.BPY7jSh6.js";import{B as A}from"./button.x7-QiqwQ.js";import".prisma/client/index-browser";import"./index.BLEmuFXE.js";import"./createLucideIcon.D2R2PR3o.js";import"./index.rqUiOy30.js";import"./index.B2LyIUNT.js";import"./index.BJknnQuW.js";import"./index.qJiwp9Ip.js";import"./index.CoUN5iVw.js";import"./index.1JkRN11X.js";import"./index.Ca4aSXhd.js";import"./index.yusZEH1f.js";import"./index.2EOGNVNh.js";import"./Combination.CoL-rreF.js";import"./index.BRpELbpY.js";import"./index.CGPvhYpy.js";import"./index.CdA-AeYO.js";import"./index.wLl3Idx7.js";import"./classnames.B8F8Dq1p.js";import"./chevrons-up-down.BMPs55cN.js";import"./chevron-down.DmgAbkcx.js";import"./index.Li38iYKq.js";const E=D(F((r,a)=>({likedKeyProjects:[],addLikedProject(s){r(n=>({likedKeyProjects:[...n.likedKeyProjects,s]}))},removeLikedProject(s){r(n=>({likedKeyProjects:n.likedKeyProjects.filter(i=>i!==s)}))},checkLikedProject(s){return a().likedKeyProjects.includes(s)},resetLikedProjects(){r({likedKeyProjects:[]})}}),{name:b}));function B({projectKey:r,name:a,logoURL:s}){const{addLikedProject:n,checkLikedProject:i,removeLikedProject:p}=E(),o=i(r),x=j=>{j.stopPropagation(),o?p(r):n(r)};return e.jsxs("article",{className:"group flex flex-col justify-between rounded-lg shadow-sm",children:[e.jsxs("a",{className:"relative flex aspect-video overflow-hidden rounded-t-lg",href:`/projects/${r}`,children:[e.jsx("span",{className:"sr-only",children:`${a} details`}),e.jsx("img",{alt:a,className:"size-full",src:s})]}),e.jsxs("div",{className:"flex h-1/5 items-center justify-between rounded-b-lg bg-gray-200 p-4 dark:bg-zinc-800",children:[e.jsx("h3",{className:"font-medium tracking-tight text-gray-500 dark:text-gray-400",children:a})," ",e.jsx("button",{"aria-label":o?"Remove from liked":"Add to liked",type:"button",children:o?e.jsx(Z,{className:"size-5 text-red-500",onClick:x}):e.jsx(z,{className:"size-5 text-gray-500 dark:text-gray-400",onClick:x})})]})]})}const P={LIKED:"liked",A_Z:"A-Z",Z_A:"Z-A"};function ge({projects:r}){const{likedKeyProjects:a}=E(),[s,n]=m.useState("liked"),[i,p]=m.useState(),[o,x]=m.useState(),[j,R]=m.useState(+new Date),[_,I]=m.useState(+new Date),K=m.useMemo(()=>{let t=structuredClone(r);return w(i)&&(t=t.filter(c=>c.stackCategory===i)),w(o)&&(t=t.filter(c=>c.status===o)),t=t.sort((c,u)=>{if(s==="liked"){const C=O=>a.indexOf(O),L=a.includes(c.key),v=a.includes(u.key);return L===v?C(c.key)-C(u.key):L&&!v?-1:1}return s==="A-Z"?c.name.localeCompare(u.name):s==="Z-A"?u.name.localeCompare(c.name):0}),t},[r,i,o,s,a]);return e.jsxs("div",{className:"mt-16 flex flex-col gap-8",children:[e.jsxs("ul",{className:"flex w-full items-center justify-center gap-10 overflow-x-auto",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"whitespace-nowrap text-sm text-gray-400/80",htmlFor:"sort-select",children:"Ordenar por:"}),e.jsxs(h,{defaultValue:s,value:s,onValueChange:t=>{n(t)},children:[e.jsx(k,{className:"w-[180px]",id:"sort-select",children:e.jsx(f,{placeholder:"Ordenar"})}),e.jsxs(S,{children:[e.jsx(l,{value:P.LIKED,children:g.liked}),e.jsx(l,{value:P.A_Z,children:g["A-Z"]}),e.jsx(l,{value:P.Z_A,children:g["Z-A"]})]})]})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"whitespace-nowrap text-sm text-gray-400/80",htmlFor:"stack-select",children:"Stack:"}),e.jsxs(h,{value:i,onValueChange:t=>{p(t)},children:[e.jsx(k,{className:"w-[180px]",id:"stack-select",unselectable:"on",children:e.jsx(f,{placeholder:"Filtrar por stack"})}),e.jsxs(S,{unselectable:"on",children:[e.jsxs(T,{children:[e.jsx(l,{value:d.StackCategory.FULL_STACK,children:y.FULL_STACK}),e.jsx(l,{value:d.StackCategory.FRONT_END,children:y.FRONT_END}),e.jsx(l,{value:d.StackCategory.BACK_END,children:y.BACK_END}),e.jsx(H,{})]}),e.jsx(A,{className:"w-full px-2",size:"sm",variant:"secondary",onClick:t=>{t.stopPropagation(),p(void 0),R(+new Date)},children:"Limpiar"})]})]},j)]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"whitespace-nowrap text-sm text-gray-400/80",htmlFor:"status-select",children:"Estado:"}),e.jsxs(h,{value:o,onValueChange:t=>{x(t)},children:[e.jsx(k,{className:"w-[180px]",id:"status-select",children:e.jsx(f,{placeholder:"Filtrar por status"})}),e.jsxs(S,{children:[e.jsxs(T,{children:[e.jsx(l,{value:d.ProjectStatus.FINISHED,children:N.FINISHED}),e.jsx(l,{value:d.ProjectStatus.IN_PROGRESS,children:N.IN_PROGRESS}),e.jsx(l,{value:d.ProjectStatus.STALLED,children:N.STALLED})]}),e.jsx(A,{className:"w-full px-2",size:"sm",variant:"secondary",onClick:t=>{t.stopPropagation(),x(void 0),I(+new Date)},children:"Limpiar"})]})]},_)]})]}),e.jsx("section",{className:"grid max-w-full grid-cols-1 gap-2 md:grid-cols-2 lg:gap-8 xl:grid-cols-3",children:K.map(t=>e.jsx(B,{logoURL:t.logoUrl,name:t.name,projectKey:t.key},t.key))})]})}export{ge as ProjectCardsManager};
