import{j as S}from"./jsx-runtime.EKYJJIwR.js";import{R as r,r as Z}from"./index.DrxKNVES.js";import{M as xe}from"./message-display.CI2NEmxy.js";import{O as Se,C as De,T as Re,D as Te,P as Ee,a as Ce,b as Oe,R as $e}from"./index.BZXvyPAu.js";import{c as yt}from"./classnames.B8F8Dq1p.js";import{i as Tt,a as Ne}from"./is-defined.BPY7jSh6.js";import{s as Ae}from"./safe-redirect.DUNX2EJd.js";import{X as Me}from"./x.DYFGPTRN.js";import"./index.BLEmuFXE.js";import"./index.BJknnQuW.js";import"./index.qJiwp9Ip.js";import"./index.1JkRN11X.js";import"./index.BRpELbpY.js";import"./index.yusZEH1f.js";import"./index.2EOGNVNh.js";import"./index.rqUiOy30.js";import"./index.B2LyIUNT.js";import"./Combination.CoL-rreF.js";import"./index.CdA-AeYO.js";import"./index.CwYy1fy-.js";import"./dev-console-log.CInb5xbI.js";import"./createLucideIcon.D2R2PR3o.js";function Pe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const qt=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ft=()=>{const e=r.useContext(qt);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};function Ie(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function _e(){return Mt(/^Mac/)}function He(){return Mt(/^iPhone/)}function zt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function je(){return Mt(/^iPad/)||_e()&&navigator.maxTouchPoints>1}function Xt(){return He()||je()}function Mt(e){return typeof window<"u"&&null!=window.navigator?e.test(window.navigator.platform):void 0}Pe("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}");const ke=24,Le=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function Wt(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}const Et=typeof document<"u"&&window.visualViewport;function Vt(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Kt(e){for(Vt(e)&&(e=e.parentElement);e&&!Vt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Be=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ct,wt=0;function Ue(e={}){let{isDisabled:t}=e;Le((()=>{if(!t)return wt++,1===wt&&Xt()&&(Ct=Fe()),()=>{wt--,0===wt&&Ct?.()}}),[t])}function Fe(){let e,t=0,n=window.pageXOffset,r=window.pageYOffset,a=Wt(ze(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"));window.scrollTo(0,0);let o=Wt(ct(document,"touchstart",(n=>{e=Kt(n.target),(e!==document.documentElement||e!==document.body)&&(t=n.changedTouches[0].pageY)}),{passive:!1,capture:!0}),ct(document,"touchmove",(n=>{if(!e||e===document.documentElement||e===document.body)return void n.preventDefault();let r=n.changedTouches[0].pageY,a=e.scrollTop,o=e.scrollHeight-e.clientHeight;0!==o&&((a<=0&&r>t||a>=o&&r<t)&&n.preventDefault(),t=r)}),{passive:!1,capture:!0}),ct(document,"touchend",(e=>{let t=e.target;Nt(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame((()=>{t.style.transform=""})))}),{passive:!1,capture:!0}),ct(document,"focus",(e=>{let t=e.target;Nt(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame((()=>{t.style.transform="",Et&&(Et.height<window.innerHeight?requestAnimationFrame((()=>{Yt(t)})):Et.addEventListener("resize",(()=>Yt(t)),{once:!0}))})))}),!0),ct(window,"scroll",(()=>{window.scrollTo(0,0)})));return()=>{a(),o(),window.scrollTo(n,r)}}function ze(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function ct(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function Yt(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=Kt(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let n=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top;e.getBoundingClientRect().bottom>t.getBoundingClientRect().bottom+24&&(t.scrollTop+=r-n)}e=t.parentElement}}function Nt(e){return e instanceof HTMLInputElement&&!Be.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function We(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}function Ve(...e){return t=>e.forEach((e=>We(e,t)))}function Gt(...e){return Z.useCallback(Ve(...e),e)}const Jt=new WeakMap;function N(e,t,n=!1){if(!(e&&e instanceof HTMLElement))return;let r={};Object.entries(t).forEach((([t,n])=>{t.startsWith("--")?e.style.setProperty(t,n):(r[t]=e.style[t],e.style[t]=n)})),!n&&Jt.set(e,r)}function Ye(e,t){if(!(e&&e instanceof HTMLElement))return;let n=Jt.get(e);n&&(e.style[t]=n[t])}const $=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function gt(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[$(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[$(t)?5:4]):null)}function qe(e){return 8*(Math.log(e+1)-2)}function Ot(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Xe(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}const C={DURATION:.5,EASE:[.32,.72,0,1]},Qt=.4,Ke=.25,Ge=100,Zt=8,vt=16,At=26,$t="vaul-dragging";function te(e){const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),r.useMemo((()=>(...e)=>null==t.current?void 0:t.current.call(t,...e)),[])}function Je({defaultProp:e,onChange:t}){const n=r.useState(e),[a]=n,o=r.useRef(a),i=te(t);return r.useEffect((()=>{o.current!==a&&(i(a),o.current=a)}),[a,o,i]),n}function ee({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,o]=Je({defaultProp:t,onChange:n}),i=void 0!==e,s=i?e:a,l=te(n);return[s,r.useCallback((t=>{if(i){const n="function"==typeof t?t(e):t;n!==e&&l(n)}else o(t)}),[i,e,o,l])]}function Qe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:a,overlayRef:o,fadeFromIndex:i,onSnapPointChange:s,direction:l="bottom",container:u,snapToSequentialPoint:d}){const[c,f]=ee({prop:e,defaultProp:n?.[0],onChange:t}),[m,p]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect((()=>{function e(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const h=r.useMemo((()=>c===n?.[n.length-1]||null),[n,c]),g=r.useMemo((()=>{var e;return null!=(e=n?.findIndex((e=>e===c)))?e:null}),[n,c]),w=n&&n.length>0&&(i||0===i)&&!Number.isNaN(i)&&n[i]===c||!n,v=r.useMemo((()=>{const e=u?{width:u.getBoundingClientRect().width,height:u.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var t;return null!=(t=n?.map((t=>{const n="string"==typeof t;let r=0;if(n&&(r=parseInt(t,10)),$(l)){const a=n?r:m?t*e.height:0;return m?"bottom"===l?e.height-a:-e.height+a:a}const a=n?r:m?t*e.width:0;return m?"right"===l?e.width-a:-e.width+a:a})))?t:[]}),[n,m,u]),y=r.useMemo((()=>null!==g?v?.[g]:null),[v,g]),b=r.useCallback((e=>{var t;const r=null!=(t=v?.findIndex((t=>t===e)))?t:null;s(r),N(a.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:$(l)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`}),v&&r!==v.length-1&&void 0!==i&&r!==i&&r<i?N(o.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"0"}):N(o.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),f(n?.[Math.max(r,0)])}),[a.current,n,v,i,o,f]);return r.useEffect((()=>{if(c||e){var t;const r=null!=(t=n?.findIndex((t=>t===e||t===c)))?t:-1;v&&-1!==r&&"number"==typeof v[r]&&b(v[r])}}),[c,e,n,v,b]),{isLastSnapPoint:h,activeSnapPoint:c,shouldFade:w,getPercentageDragged:function(e,t){if(!n||"number"!=typeof g||!v||void 0===i)return null;const r=g===i-1;if(g>=i&&t)return 0;if(r&&!t)return 1;if(!w&&!r)return null;const a=r?g+1:g-1,o=r?v[a]-v[a-1]:v[a+1]-v[a],s=e/Math.abs(o);return r?1-s:s},setActiveSnapPoint:f,activeSnapPointIndex:g,onRelease:function({draggedDistance:e,closeDrawer:t,velocity:r,dismissible:a}){if(void 0===i)return;const s="bottom"===l||"right"===l?(y??0)-e:(y??0)+e,u=0===g,c=e>0;if(g===i-1&&N(o.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),!d&&r>2&&!c)return void(a?t():b(v[0]));if(!d&&r>2&&c&&v&&n)return void b(v[n.length-1]);const f=v?.reduce(((e,t)=>"number"!=typeof e||"number"!=typeof t?e:Math.abs(t-s)<Math.abs(e-s)?t:e)),m=$(l)?window.innerHeight:window.innerWidth;if(r>Qt&&Math.abs(e)<.4*m){const e=c?1:-1;if(e>0&&h&&n)return void b(v[n.length-1]);if(u&&e<0&&a&&t(),null===g)return;b(v[g+e])}else b(f)},onDrag:function({draggedDistance:e}){if(null===y)return;const t="bottom"===l||"right"===l?y-e:y+e;("bottom"===l||"right"===l)&&t<v[v.length-1]||("top"===l||"left"===l)&&t>v[v.length-1]||N(a.current,{transform:$(l)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`})},snapPointsOffset:v}}const Ze=()=>()=>{};function tn(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:a,noBodyStyles:o}=ft(),i=r.useRef(null),s=Z.useMemo((()=>document.body.style.backgroundColor),[]);function l(){return(window.innerWidth-26)/window.innerWidth}r.useEffect((()=>{if(t&&n){i.current&&clearTimeout(i.current);const t=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!t)return;Xe(a&&!o?Ot(document.body,{background:"black"}):Ze,Ot(t,{transformOrigin:$(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`}));const n=Ot(t,{borderRadius:"8px",overflow:"hidden",...$(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{n(),i.current=window.setTimeout((()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")}),1e3*C.DURATION)}}}),[t,n,s])}let dt=null;function en({isOpen:e,modal:t,nested:n,hasBeenOpened:a,preventScrollRestoration:o,noBodyStyles:i}){const[s,l]=r.useState((()=>typeof window<"u"?window.location.href:"")),u=r.useRef(0),d=r.useCallback((()=>{if(zt()&&null===dt&&e&&!i){dt={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:e,innerHeight:t}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:-u.current+"px",left:-e+"px",right:"0px",height:"auto"}),window.setTimeout((()=>window.requestAnimationFrame((()=>{const e=t-window.innerHeight;e&&u.current>=t&&(document.body.style.top=-(u.current+e)+"px")}))),300)}}),[e]),c=r.useCallback((()=>{if(zt()&&null!==dt&&!i){const e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);Object.assign(document.body.style,dt),window.requestAnimationFrame((()=>{o&&s!==window.location.href?l(window.location.href):window.scrollTo(t,e)})),dt=null}}),[s]);return r.useEffect((()=>{function e(){u.current=window.scrollY}return e(),window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),r.useEffect((()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||c()}}),[t,c]),r.useEffect((()=>{n||!a||(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout((()=>{c()}),500)):c())}),[e,a,s,t,n,d,c]),{restorePositionSetting:c}}function nn({open:e,onOpenChange:t,children:n,onDrag:a,onRelease:o,snapPoints:i,shouldScaleBackground:s=!1,setBackgroundColorOnScale:l=!0,closeThreshold:u=Ke,scrollLockTimeout:d=Ge,dismissible:c=!0,handleOnly:f=!1,fadeFromIndex:m=i&&i.length-1,activeSnapPoint:p,setActiveSnapPoint:h,fixed:g,modal:w=!0,onClose:v,nested:y,noBodyStyles:b=!1,direction:x="bottom",defaultOpen:S=!1,disablePreventScroll:R=!0,snapToSequentialPoint:E=!1,preventScrollRestoration:P=!1,repositionInputs:T=!0,onAnimationEnd:O,container:D,autoFocus:j=!1}){var A,k;const[M=!1,B]=ee({defaultProp:S,prop:e,onChange:e=>{t?.(e),!e&&!y&&pe(),setTimeout((()=>{O?.(e)}),1e3*C.DURATION),e&&!w&&typeof window<"u"&&window.requestAnimationFrame((()=>{document.body.style.pointerEvents="auto"})),e||(document.body.style.pointerEvents="auto")}}),[I,F]=r.useState(!1),[Y,L]=r.useState(!1),[z,q]=r.useState(!1),W=r.useRef(null),H=r.useRef(null),U=r.useRef(null),X=r.useRef(null),Z=r.useRef(null),J=r.useRef(!1),V=r.useRef(null),G=r.useRef(0),K=r.useRef(!1),Q=r.useRef(!S),_=r.useRef(0),te=r.useRef(null),ne=r.useRef((null==(A=te.current)?void 0:A.getBoundingClientRect().height)||0),re=r.useRef((null==(k=te.current)?void 0:k.getBoundingClientRect().width)||0),ae=r.useRef(0),oe=r.useCallback((e=>{i&&e===de.length-1&&(H.current=new Date)}),[]),{activeSnapPoint:ie,activeSnapPointIndex:se,setActiveSnapPoint:le,onRelease:ue,snapPointsOffset:de,onDrag:ce,shouldFade:fe,getPercentageDragged:me}=Qe({snapPoints:i,activeSnapPointProp:p,setActiveSnapPointProp:h,drawerRef:te,fadeFromIndex:m,overlayRef:W,onSnapPointChange:oe,direction:x,container:D,snapToSequentialPoint:E});Ue({isDisabled:!M||Y||!w||z||!I||!T||!R});const{restorePositionSetting:pe}=en({isOpen:M,modal:w,nested:y??!1,hasBeenOpened:I,preventScrollRestoration:P,noBodyStyles:b});function he(){return(window.innerWidth-26)/window.innerWidth}function ge(e,t){var n;let r=e;const a=null==(n=window.getSelection())?void 0:n.toString(),o=te.current?gt(te.current,x):null,i=new Date;if("SELECT"===r.tagName||r.hasAttribute("data-vaul-no-drag")||r.closest("[data-vaul-no-drag]"))return!1;if("right"===x||"left"===x)return!0;if(H.current&&i.getTime()-H.current.getTime()<500)return!1;if(null!==o&&("bottom"===x?o>0:o<0))return!0;if(a&&a.length>0)return!1;if(Z.current&&i.getTime()-Z.current.getTime()<d&&0===o||t)return Z.current=i,!1;for(;r;){if(r.scrollHeight>r.clientHeight){if(0!==r.scrollTop)return Z.current=new Date,!1;if("dialog"===r.getAttribute("role"))return!0}r=r.parentNode}return!0}function we(e){!Y||!te.current||(te.current.classList.remove($t),J.current=!1,L(!1),X.current=new Date),v?.(),e||B(!1),setTimeout((()=>{i&&le(i[0])}),1e3*C.DURATION)}function ve(){if(!te.current)return;const e=document.querySelector("[data-vaul-drawer-wrapper]"),t=gt(te.current,x);N(te.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),N(W.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),s&&t&&t>0&&M&&N(e,{borderRadius:"8px",overflow:"hidden",...$(x)?{transform:`scale(${he()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${he()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`},!0)}return r.useEffect((()=>{window.requestAnimationFrame((()=>{Q.current=!0}))}),[]),r.useEffect((()=>{var e;function t(){if(!te.current||!T)return;if(Nt(document.activeElement)||K.current){var e;const t=(null==(e=window.visualViewport)?void 0:e.height)||0,n=window.innerHeight;let r=n-t;const a=te.current.getBoundingClientRect().height||0,o=a>.8*n;ae.current||(ae.current=a);const s=te.current.getBoundingClientRect().top;if(Math.abs(_.current-r)>60&&(K.current=!K.current),i&&i.length>0&&de&&se){r+=de[se]||0}if(_.current=r,a>t||K.current){const e=te.current.getBoundingClientRect().height;let n=e;e>t&&(n=t-(o?s:26)),te.current.style.height=g?e-Math.max(r,0)+"px":`${Math.max(n,t-s)}px`}else Ie()||(te.current.style.height=`${ae.current}px`);i&&i.length>0&&!K.current?te.current.style.bottom="0px":te.current.style.bottom=`${Math.max(r,0)}px`}}return null==(e=window.visualViewport)||e.addEventListener("resize",t),()=>{var e;return null==(e=window.visualViewport)?void 0:e.removeEventListener("resize",t)}}),[se,i,de]),r.useEffect((()=>(M&&(N(document.documentElement,{scrollBehavior:"auto"}),H.current=new Date),()=>{Ye(document.documentElement,"scrollBehavior")})),[M]),r.useEffect((()=>{w||window.requestAnimationFrame((()=>{document.body.style.pointerEvents="auto"}))}),[w]),r.createElement($e,{defaultOpen:S,onOpenChange:e=>{!c&&!e||(e?F(!0):we(!0),B(e))},open:M},r.createElement(qt.Provider,{value:{activeSnapPoint:ie,snapPoints:i,setActiveSnapPoint:le,drawerRef:te,overlayRef:W,onOpenChange:t,onPress:function(e){var t,n;!c&&!i||te.current&&!te.current.contains(e.target)||(ne.current=(null==(t=te.current)?void 0:t.getBoundingClientRect().height)||0,re.current=(null==(n=te.current)?void 0:n.getBoundingClientRect().width)||0,L(!0),U.current=new Date,Xt()&&window.addEventListener("touchend",(()=>J.current=!1),{once:!0}),e.target.setPointerCapture(e.pointerId),G.current=$(x)?e.pageY:e.pageX)},onRelease:function(e){if(!Y||!te.current)return;te.current.classList.remove($t),J.current=!1,L(!1),X.current=new Date;const t=gt(te.current,x);if(!e||!ge(e.target,!1)||!t||Number.isNaN(t)||null===U.current)return;const n=X.current.getTime()-U.current.getTime(),r=G.current-($(x)?e.pageY:e.pageX),a=Math.abs(r)/n;if(a>.05&&(q(!0),setTimeout((()=>{q(!1)}),200)),i)return ue({draggedDistance:r*("bottom"===x||"right"===x?1:-1),closeDrawer:we,velocity:a,dismissible:c}),void o?.(e,!0);if("bottom"===x||"right"===x?r>0:r<0)return ve(),void o?.(e,!0);if(a>Qt)return we(),void o?.(e,!1);var s;const l=Math.min(null!=(s=te.current.getBoundingClientRect().height)?s:0,window.innerHeight);var d;const f=Math.min(null!=(d=te.current.getBoundingClientRect().width)?d:0,window.innerWidth),m="left"===x||"right"===x;if(Math.abs(t)>=(m?f:l)*u)return we(),void o?.(e,!1);o?.(e,!0),ve()},onDrag:function(e){if(te.current&&Y){const t="bottom"===x||"right"===x?1:-1,n=(G.current-($(x)?e.pageY:e.pageX))*t,r=n>0,o=i&&!c&&!r;if(o&&0===se)return;const l=Math.abs(n),u=document.querySelector("[data-vaul-drawer-wrapper]");let d=l/("bottom"===x||"top"===x?ne.current:re.current);const f=me(l,r);if(null!==f&&(d=f),o&&d>=1||!J.current&&!ge(e.target,r))return;if(te.current.classList.add($t),J.current=!0,N(te.current,{transition:"none"}),N(W.current,{transition:"none"}),i&&ce({draggedDistance:n}),r&&!i){const e=qe(n),r=Math.min(-1*e,0)*t;return void N(te.current,{transform:$(x)?`translate3d(0, ${r}px, 0)`:`translate3d(${r}px, 0, 0)`})}const p=1-d;if((fe||m&&se===m-1)&&(a?.(e,d),N(W.current,{opacity:`${p}`,transition:"none"},!0)),u&&W.current&&s){const e=Math.min(he()+d*(1-he()),1),t=8-8*d,n=Math.max(0,14-14*d);N(u,{borderRadius:`${t}px`,transform:$(x)?`scale(${e}) translate3d(0, ${n}px, 0)`:`scale(${e}) translate3d(${n}px, 0, 0)`,transition:"none"},!0)}if(!i){const e=l*t;N(te.current,{transform:$(x)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})}}},dismissible:c,shouldAnimate:Q,handleOnly:f,isOpen:M,isDragging:Y,shouldFade:fe,closeDrawer:we,onNestedDrag:function(e,t){if(t<0)return;const n=(window.innerWidth-16)/window.innerWidth,r=n+t*(1-n),a=16*t-16;N(te.current,{transform:$(x)?`scale(${r}) translate3d(0, ${a}px, 0)`:`scale(${r}) translate3d(${a}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(e){const t=e?(window.innerWidth-16)/window.innerWidth:1,n=e?-16:0;V.current&&window.clearTimeout(V.current),N(te.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:$(x)?`scale(${t}) translate3d(0, ${n}px, 0)`:`scale(${t}) translate3d(${n}px, 0, 0)`}),!e&&te.current&&(V.current=setTimeout((()=>{const e=gt(te.current,x);N(te.current,{transition:"none",transform:$(x)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})}),500))},onNestedRelease:function(e,t){const n=$(x)?window.innerHeight:window.innerWidth,r=t?(n-16)/n:1,a=t?-16:0;t&&N(te.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:$(x)?`scale(${r}) translate3d(0, ${a}px, 0)`:`scale(${r}) translate3d(${a}px, 0, 0)`})},keyboardIsOpen:K,modal:w,snapPointsOffset:de,activeSnapPointIndex:se,direction:x,shouldScaleBackground:s,setBackgroundColorOnScale:l,noBodyStyles:b,container:D,autoFocus:j}},n))}const ne=r.forwardRef((function({...e},t){const{overlayRef:n,snapPoints:a,onRelease:o,shouldFade:i,isOpen:s,modal:l,shouldAnimate:u}=ft(),d=Gt(t,n),c=a&&a.length>0;if(!l)return null;const f=r.useCallback((e=>o(e)),[o]);return r.createElement(Se,{onMouseUp:f,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":s&&c?"true":"false","data-vaul-snap-points-overlay":s&&i?"true":"false","data-vaul-animate":u?.current?"true":"false",...e})}));ne.displayName="Drawer.Overlay";const re=r.forwardRef((function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...a},o){const{drawerRef:i,onPress:s,onRelease:l,onDrag:u,keyboardIsOpen:d,snapPointsOffset:c,activeSnapPointIndex:f,modal:m,isOpen:p,direction:h,snapPoints:g,container:w,handleOnly:v,shouldAnimate:y,autoFocus:b}=ft(),[x,S]=r.useState(!1),C=Gt(o,i),R=r.useRef(null),E=r.useRef(null),N=r.useRef(!1),P=g&&g.length>0;tn();function T(e){R.current=null,N.current=!1,l(e)}return r.useEffect((()=>{P&&window.requestAnimationFrame((()=>{S(!0)}))}),[]),r.createElement(De,{"data-vaul-drawer-direction":h,"data-vaul-drawer":"","data-vaul-delayed-snap-points":x?"true":"false","data-vaul-snap-points":p&&P?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":y?.current?"true":"false",...a,ref:C,style:c&&c.length>0?{"--snap-point-height":`${c[f??0]}px`,...t}:t,onPointerDown:e=>{v||(null==a.onPointerDown||a.onPointerDown.call(a,e),R.current={x:e.pageX,y:e.pageY},s(e))},onOpenAutoFocus:e=>{n?.(e),b||e.preventDefault()},onPointerDownOutside:t=>{e?.(t),m&&!t.defaultPrevented?d.current&&(d.current=!1):t.preventDefault()},onFocusOutside:e=>{m||e.preventDefault()},onPointerMove:e=>{if(E.current=e,v||(null==a.onPointerMove||a.onPointerMove.call(a,e),!R.current))return;const t=e.pageY-R.current.y,n=e.pageX-R.current.x,r="touch"===e.pointerType?10:2;((e,t,n=0)=>{if(N.current)return!0;const r=Math.abs(e.y),a=Math.abs(e.x),o=a>r,i=["bottom","right"].includes(t)?1:-1;if("left"===t||"right"===t){if(!(e.x*i<0)&&a>=0&&a<=n)return o}else if(!(e.y*i<0)&&r>=0&&r<=n)return!o;return N.current=!0,!0})({x:n,y:t},h,r)?u(e):(Math.abs(n)>r||Math.abs(t)>r)&&(R.current=null)},onPointerUp:e=>{null==a.onPointerUp||a.onPointerUp.call(a,e),R.current=null,N.current=!1,l(e)},onPointerOut:e=>{null==a.onPointerOut||a.onPointerOut.call(a,e),T(E.current)},onContextMenu:e=>{null==a.onContextMenu||a.onContextMenu.call(a,e),E.current&&T(E.current)}})}));re.displayName="Drawer.Content";const rn=250,an=120,on=r.forwardRef((function({preventCycle:e=!1,children:t,...n},a){const{closeDrawer:o,isDragging:i,snapPoints:s,activeSnapPoint:l,setActiveSnapPoint:u,dismissible:d,handleOnly:c,isOpen:f,onPress:m,onDrag:p}=ft(),h=r.useRef(null),g=r.useRef(!1);function w(){h.current&&window.clearTimeout(h.current),g.current=!1}return r.createElement("div",{onClick:function(){g.current?w():window.setTimeout((()=>{!function(){if(i||e||g.current)return void w();if(w(),!s||0===s.length)return void(d||o());if(l===s[s.length-1]&&d)return void o();const t=s.findIndex((e=>e===l));if(-1===t)return;const n=s[t+1];u(n)}()}),an)},onPointerCancel:w,onPointerDown:e=>{c&&m(e),h.current=window.setTimeout((()=>{g.current=!0}),rn)},onPointerMove:e=>{c&&p(e)},ref:a,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))}));function sn(e){const t=ft(),{container:n=t.container,...a}=e;return r.createElement(Ee,{container:n,...a})}on.displayName="Drawer.Handle";const Y={Root:nn,Content:re,Overlay:ne,Trigger:Ce,Portal:sn,Close:Oe,Title:Re,Description:Te};function ae({shouldScaleBackground:e=!0,direction:t="right",...n}){return S.jsx(Y.Root,{direction:t,shouldScaleBackground:e,...n})}ae.displayName="Drawer";const ln=Y.Trigger,un=Y.Portal,cn=Y.Close,oe=Z.forwardRef((({className:e,...t},n)=>S.jsx(Y.Overlay,{ref:n,className:yt("fixed inset-0 z-50 bg-black/80",e),...t})));oe.displayName=Y.Overlay.displayName;const ie=Z.forwardRef((({className:e,children:t,...n},r)=>S.jsxs(un,{children:[S.jsx(oe,{}),S.jsxs(Y.Content,{ref:r,className:yt("fixed bottom-0 right-0 z-50 mt-24 flex h-full w-[400px] flex-col border bg-background",e),...n,children:[S.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]})));ie.displayName="DrawerContent";const dn=Z.forwardRef((({className:e,...t},n)=>S.jsx(Y.Title,{ref:n,className:yt("text-lg font-semibold leading-none tracking-tight",e),...t})));dn.displayName=Y.Title.displayName;const fn=Z.forwardRef((({className:e,...t},n)=>S.jsx(Y.Description,{ref:n,className:yt("text-sm text-muted-foreground",e),...t})));function _n({stack:e,associatedProjects:t,triggerChild:n,drawerProps:r,returnToSiteOnClose:a}){return S.jsxs(ae,{...r,onClose:()=>{if(Tt(a)){if(a.keepState)return void history.pushState(null,"",a.site);Ae(a.site)}Ne(r)||Tt(r.onClose)&&r.onClose()},children:[S.jsx(ln,{asChild:!0,children:n}),S.jsx(ie,{className:"overflow-y-auto overflow-x-hidden px-6 py-2",children:S.jsxs("section",{className:"space-y-4",children:[S.jsxs("div",{className:"relative flex items-center space-x-2",children:[S.jsx("img",{alt:`${e.name} stack logo`,className:"aspect-square size-10 rounded-sm",src:e.iconUrl}),S.jsx("h3",{className:"text-4xl font-bold",children:e.name}),S.jsx(cn,{className:"absolute right-0 top-0 p-2",children:S.jsx(Me,{})})]}),Tt(e.description)&&S.jsxs("article",{children:[S.jsx("h4",{className:"text-lg font-bold underline underline-offset-2",children:"DescripciÃ³n:"}),S.jsx("p",{className:"text-pretty indent-4",children:S.jsx(xe,{message:e.description})})]}),t.length>0&&S.jsxs("article",{className:"space-y-1",children:[S.jsx("h4",{className:"text-lg font-bold underline underline-offset-2",children:"Proyectos relacionados:"}),S.jsx("ul",{className:"flex flex-col gap-2",children:t?.map((e=>S.jsx("li",{children:S.jsxs("a",{className:"flex items-center gap-2 rounded-md transition-all ease-linear hover:translate-x-2",href:`/projects/${e.key}`,rel:"noreferrer",target:"_blank",children:[S.jsx("img",{alt:`${e.name} logo`,className:"size-14 rounded-full",src:e.logoUrl}),S.jsx("h5",{className:"whitespace-nowrap text-xl",children:e.name})]})},e.id)))})]})]})})]})}fn.displayName=Y.Description.displayName;export{_n as StackDrawer};