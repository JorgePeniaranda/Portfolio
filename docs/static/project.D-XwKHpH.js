import{j as e}from"./jsx-runtime.EKYJJIwR.js";import{s as E}from"./index.CydnYaqo.js";import{i as h}from"./index-browser.DmCZ7H2o.js";import{u as f,F as I,a as s,b as l,c as t,d as n,e as c}from"./form.93GIvI3c.js";import{B as j}from"./button.x7-QiqwQ.js";import{P as v,a as g,f as S,b,C}from"./is-hexadecimal.CeJG8YVF.js";import{I as d}from"./input.BtdTvaem.js";import{S as N,a as y,b as P,c as T,d as R}from"./select.BKrJ3BO-.js";import{T as u}from"./textarea.tTUkXvbq.js";import{a as O,S as z}from"./transcriptions.BDQUoU-M.js";import{c as U}from"./classnames.B8F8Dq1p.js";import{u as L}from"./use-toast.BikYzejn.js";import{P as k}from"./update.BHxkpNuo.js";import{a as A,h as V,b as D}from"./toast-handler.DOoTUqTV.js";import{C as w}from"./calendar.CZJnbNns.js";import{S as G}from"./save.CAQ01TeF.js";import".prisma/client/index-browser";import"./index.1JkRN11X.js";import"./index.DrxKNVES.js";import"./index.BLEmuFXE.js";import"./index.2EOGNVNh.js";import"./index.rqUiOy30.js";import"./index.B2LyIUNT.js";import"./index.Li38iYKq.js";import"./index.BJknnQuW.js";import"./index.qJiwp9Ip.js";import"./index.yusZEH1f.js";import"./Combination.CoL-rreF.js";import"./index.BRpELbpY.js";import"./index.CGPvhYpy.js";import"./index.CdA-AeYO.js";import"./index.CwYy1fy-.js";import"./index.CoUN5iVw.js";import"./index.Ca4aSXhd.js";import"./index.wLl3Idx7.js";import"./chevrons-up-down.BMPs55cN.js";import"./createLucideIcon.D2R2PR3o.js";import"./chevron-down.DmgAbkcx.js";import"./env.DkQJXirl.js";import"./dev-console-log.CInb5xbI.js";import"./index.CdM0oSJi.js";import"./is-defined.BPY7jSh6.js";import"./message-display.CI2NEmxy.js";async function _({idProject:m,projectUpdateInput:o}){try{const{data:x}=await A.put(`/api/project/id/${m}`,o);return x}catch(x){throw V({error:x,defaultErrorMessage:"No se pudo actualizar el proyecto."})}}function fe({currentProject:m,disableForm:o}){const{toast:x}=L(),a=f({resolver:E(k),defaultValues:m}),p=async r=>{try{await _({idProject:m.id,projectUpdateInput:r}),x({title:"Proyecto creado",description:"El proyecto ha sido creado exitosamente.",className:"bg-green-500 text-black"})}catch(i){D({error:i,title:"No se pudo actualizar el proyecto",defaultErrorMessage:"Ha ocurrido un error al intentar actualizar el proyecto.",tryAgain:()=>p(r)})}};return e.jsx(I,{...a,children:e.jsxs("form",{className:"space-y-8",onSubmit:a.handleSubmit(p),children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(s,{control:a.control,name:"key",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"Key"}),e.jsx(n,{children:e.jsx(d,{disabled:o,placeholder:"Key",...r})}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"name",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"Nombre"}),e.jsx(n,{children:e.jsx(d,{disabled:o,placeholder:"Nombre",...r,value:r.value===null?void 0:r.value})}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"status",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"Estado"}),e.jsxs(N,{defaultValue:r.value===null?void 0:r.value,disabled:o,onValueChange:r.onChange,...r,value:r.value===null?void 0:r.value,children:[e.jsx(n,{children:e.jsx(y,{className:"w-[180px]",children:e.jsx(P,{placeholder:"Estado"})})}),e.jsx(T,{children:Object.values(h.ProjectStatus).map(i=>e.jsx(R,{value:i,children:O[i]},i))})]}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"stackCategory",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"Stack"}),e.jsxs(N,{defaultValue:r.value===null?void 0:r.value,disabled:o,onValueChange:r.onChange,...r,value:r.value===null?void 0:r.value,children:[e.jsx(n,{children:e.jsx(y,{className:"w-[180px]",children:e.jsx(P,{placeholder:"Stack"})})}),e.jsx(T,{children:Object.values(h.StackCategory).map(i=>e.jsx(R,{value:i,children:z[i]},i))})]}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"startDate",render:({field:r})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsx(t,{children:"Fecha de inicio"}),e.jsxs(v,{children:[e.jsx(g,{asChild:!0,children:e.jsx(n,{children:e.jsxs(j,{className:U("w-[240px] pl-3 text-left font-normal",!r.value&&"text-muted-foreground"),disabled:o,variant:"outline",children:[r.value?S(r.value,"PPP"):e.jsx("span",{children:"Seleccionar fecha de inicio"}),e.jsx(w,{className:"ml-auto size-4 opacity-50"})]})})}),e.jsx(b,{align:"start",className:"w-auto p-0",children:e.jsx(C,{mode:"single",selected:r.value,onSelect:r.onChange})})]}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"endDate",render:({field:r})=>e.jsxs(l,{className:"flex flex-col",children:[e.jsx(t,{children:"Fecha de fin"}),e.jsxs(v,{children:[e.jsx(g,{asChild:!0,children:e.jsx(n,{children:e.jsxs(j,{className:U("w-[240px] pl-3 text-left font-normal",!r.value&&"text-muted-foreground"),disabled:o,variant:"outline",children:[r.value?S(r.value,"PPP"):e.jsx("span",{children:"Seleccionar fecha de fin"}),e.jsx(w,{className:"ml-auto size-4 opacity-50"})]})})}),e.jsx(b,{align:"start",className:"w-auto p-0",children:e.jsx(C,{mode:"single",selected:r.value===null?void 0:r.value,onSelect:r.onChange})})]}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"description",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"Descripción"}),e.jsx(n,{children:e.jsx(u,{disabled:o,placeholder:"Descripción",...r,value:r.value===null?void 0:r.value})}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"goals",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"Objetivos"}),e.jsx(n,{children:e.jsx(u,{disabled:o,placeholder:"Objetivos",...r,value:r.value===null?void 0:r.value})}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"contributions",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"Contribuciones"}),e.jsx(n,{children:e.jsx(u,{disabled:o,placeholder:"Contribuciones",...r,value:r.value===null?void 0:r.value})}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"logoUrl",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"URL de logo"}),e.jsx(n,{children:e.jsx(d,{disabled:o,placeholder:"URL de logo",...r,value:r.value===null?void 0:r.value})}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"primaryColor",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"Color Primario"}),e.jsx(n,{children:e.jsx(d,{disabled:o,placeholder:"Color Primario",type:"color",...r,value:r.value===null?void 0:r.value})}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"demoUrl",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"URL de demo"}),e.jsx(n,{children:e.jsx(d,{disabled:o,placeholder:"URL de demo",...r,value:r.value===null?void 0:r.value})}),e.jsx(c,{})]})}),e.jsx(s,{control:a.control,name:"githubUrl",render:({field:r})=>e.jsxs(l,{children:[e.jsx(t,{children:"URL de Github"}),e.jsx(n,{children:e.jsx(d,{disabled:o,placeholder:"URL de Github",...r,value:r.value===null?void 0:r.value})}),e.jsx(c,{})]})})]}),e.jsxs(j,{className:"flex size-max items-center gap-2 rounded-lg bg-lime-600 p-2 text-white hover:bg-lime-700 dark:bg-lime-600 dark:hover:bg-lime-700",disabled:o,type:"submit",children:[e.jsx(G,{className:"size-7"}),e.jsx("span",{className:"text-lg",children:"Guardar"})]})]})})}export{fe as UpdateProjectForm};
