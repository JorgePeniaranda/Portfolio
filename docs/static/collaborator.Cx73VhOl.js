import{j as r}from"./jsx-runtime.EKYJJIwR.js";import{z as i,s as h}from"./index.CydnYaqo.js";import{u as x,F as b,a as l,b as n,c as m,d as c,e as d}from"./form.93GIvI3c.js";import{B as j}from"./button.x7-QiqwQ.js";import{I as p}from"./input.BtdTvaem.js";import{s as f}from"./safe-redirect.DUNX2EJd.js";import{i as g}from"./is-defined.BPY7jSh6.js";import{u as v}from"./use-toast.BikYzejn.js";import{a as k,h as C,b as N}from"./toast-handler.D8rKeUy-.js";import{S as U}from"./save.CAQ01TeF.js";import"./index.1JkRN11X.js";import"./index.DrxKNVES.js";import"./index.BLEmuFXE.js";import"./index.2EOGNVNh.js";import"./index.rqUiOy30.js";import"./index.B2LyIUNT.js";import"./index.Li38iYKq.js";import"./classnames.B8F8Dq1p.js";import"./dev-console-log.CInb5xbI.js";import"./env.T9ZNvZgm.js";import"./index.CdM0oSJi.js";import"./index.BJknnQuW.js";import"./index.qJiwp9Ip.js";import"./index.CoUN5iVw.js";import"./index.yusZEH1f.js";import"./index.CdA-AeYO.js";import"./index.CwYy1fy-.js";import"./index.wLl3Idx7.js";import"./message-display.CI2NEmxy.js";import"./createLucideIcon.D2R2PR3o.js";const w=i.object({nickname:i.string().min(1),githubUsername:i.string().optional().nullable(),linkedinUsername:i.string().optional().nullable()}),y={nickname:"",githubUsername:null,linkedinUsername:null};async function F(r){try{const{data:e}=await k.post("/api/collaborator",r);return e}catch(r){throw C({error:r,defaultErrorMessage:"No se pudo crear el colaborador."})}}function tr({disableForm:e=!1}){const{toast:s}=v(),i=x({resolver:h(w),defaultValues:y}),a=async r=>{try{const e=await F(r);i.reset(),s({title:"Colaborador creado",description:"El colaborador ha sido creado exitosamente.",className:"bg-green-500 text-black"}),g(e?.id)&&f(`/vault/views/collaborators/${e.id}`)}catch(e){N({error:e,title:"No se pudo crear el colaborador",defaultErrorMessage:"Ha ocurrido un error al intentar crear el colaborador.",tryAgain:()=>a(r)})}};return r.jsx(b,{...i,children:r.jsxs("form",{className:"space-y-8",onSubmit:i.handleSubmit(a),children:[r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(l,{control:i.control,name:"nickname",render:({field:s})=>r.jsxs(n,{children:[r.jsx(m,{children:"Nickname"}),r.jsx(c,{children:r.jsx(p,{disabled:e,placeholder:"Nickname",...s})}),r.jsx(d,{})]})}),r.jsx(l,{control:i.control,name:"githubUsername",render:({field:s})=>r.jsxs(n,{children:[r.jsx(m,{children:"Usuario de Github"}),r.jsx(c,{children:r.jsx(p,{disabled:e,placeholder:"Usuario de Github",...s,value:null===s.value?void 0:s.value})}),r.jsx(d,{})]})}),r.jsx(l,{control:i.control,name:"linkedinUsername",render:({field:s})=>r.jsxs(n,{children:[r.jsx(m,{children:"Usuario de Linkedin"}),r.jsx(c,{children:r.jsx(p,{disabled:e,placeholder:"Usuario de Linkedin",...s,value:null===s.value?void 0:s.value})}),r.jsx(d,{})]})})]}),r.jsxs(j,{className:"flex size-max items-center gap-2 rounded-lg bg-lime-600 p-2 text-white hover:bg-lime-700 dark:bg-lime-600 dark:hover:bg-lime-700",disabled:e,type:"submit",children:[r.jsx(U,{className:"size-7"}),r.jsx("span",{className:"text-lg",children:"Crear"})]})]})})}export{tr as CreateCollaboratorForm};