import{j as e}from"./jsx-runtime.EKYJJIwR.js";import{z as o,s as k}from"./index.CydnYaqo.js";import{i as u}from"./index-browser.DmCZ7H2o.js";import{u as T,F as y,a as l,b as i,c as n,d as c,e as m}from"./form.93GIvI3c.js";import{B as C}from"./button.x7-QiqwQ.js";import{I as x}from"./input.BtdTvaem.js";import{S as h,a as v,b as g,c as S,d as b}from"./select.BKrJ3BO-.js";import{T as N}from"./textarea.tTUkXvbq.js";import{S as E,b as I}from"./transcriptions.BDQUoU-M.js";import{u as f}from"./use-toast.BikYzejn.js";import{a as w,h as z,b as R}from"./toast-handler.D8rKeUy-.js";import{S as V}from"./save.CAQ01TeF.js";import".prisma/client/index-browser";import"./index.1JkRN11X.js";import"./index.DrxKNVES.js";import"./index.BLEmuFXE.js";import"./index.2EOGNVNh.js";import"./index.rqUiOy30.js";import"./index.B2LyIUNT.js";import"./index.Li38iYKq.js";import"./classnames.B8F8Dq1p.js";import"./index.BJknnQuW.js";import"./index.qJiwp9Ip.js";import"./index.CoUN5iVw.js";import"./index.Ca4aSXhd.js";import"./index.yusZEH1f.js";import"./Combination.CoL-rreF.js";import"./index.BRpELbpY.js";import"./index.CGPvhYpy.js";import"./index.CdA-AeYO.js";import"./index.wLl3Idx7.js";import"./chevrons-up-down.BMPs55cN.js";import"./createLucideIcon.D2R2PR3o.js";import"./chevron-down.DmgAbkcx.js";import"./env.T9ZNvZgm.js";import"./dev-console-log.CInb5xbI.js";import"./index.CdM0oSJi.js";import"./index.CwYy1fy-.js";import"./is-defined.BPY7jSh6.js";import"./message-display.CI2NEmxy.js";const O=Object.values(u.StackCategory),U=Object.values(u.StackType),A=o.object({key:o.string().min(1),name:o.string().min(1),description:o.string().min(1),category:o.enum(O).optional().nullable(),type:o.enum(U).optional().nullable(),iconUrl:o.string().min(1)});async function F({idStack:d,stackUpdateInput:a}){try{const{data:p}=await w.put(`/api/stack/id/${d}`,a);return p}catch(p){throw z({error:p,defaultErrorMessage:"No se pudo actualizar el stack."})}}function ye({currentStack:d,disableForm:a}){const{toast:p}=f(),s=T({resolver:k(A),defaultValues:d}),j=async r=>{try{await F({idStack:d.id,stackUpdateInput:r}),p({title:"Stack actualizado",description:"El stack ha sido actualizado exitosamente.",className:"bg-green-500 text-black"})}catch(t){R({error:t,title:"No se pudo actualizar el stack",defaultErrorMessage:"Ha ocurrido un error al intentar actualizar el stack.",tryAgain:()=>j(r)})}};return e.jsx(y,{...s,children:e.jsxs("form",{className:"space-y-8",onSubmit:s.handleSubmit(j),children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(l,{control:s.control,name:"key",render:({field:r})=>e.jsxs(i,{children:[e.jsx(n,{children:"Key"}),e.jsx(c,{children:e.jsx(x,{disabled:a,placeholder:"Key",...r})}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"name",render:({field:r})=>e.jsxs(i,{children:[e.jsx(n,{children:"Nombre"}),e.jsx(c,{children:e.jsx(x,{disabled:a,placeholder:"Nombre",...r,value:r.value===null?void 0:r.value})}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"description",render:({field:r})=>e.jsxs(i,{children:[e.jsx(n,{children:"Descripción"}),e.jsx(c,{children:e.jsx(N,{disabled:a,placeholder:"Descripción",...r,value:r.value===null?void 0:r.value})}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"category",render:({field:r})=>e.jsxs(i,{children:[e.jsx(n,{children:"Categoria"}),e.jsxs(h,{defaultValue:r.value===null?void 0:r.value,disabled:a,onValueChange:r.onChange,...r,value:r.value===null?void 0:r.value,children:[e.jsx(c,{children:e.jsx(v,{className:"w-[180px]",children:e.jsx(g,{placeholder:"Descripción"})})}),e.jsx(S,{children:Object.values(u.StackCategory).map(t=>e.jsx(b,{value:t,children:E[t]},t))})]}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"type",render:({field:r})=>e.jsxs(i,{children:[e.jsx(n,{children:"Tipo"}),e.jsxs(h,{defaultValue:r.value===null?void 0:r.value,disabled:a,onValueChange:r.onChange,...r,value:r.value===null?void 0:r.value,children:[e.jsx(c,{children:e.jsx(v,{className:"w-[180px]",children:e.jsx(g,{placeholder:"Tipo"})})}),e.jsx(S,{children:Object.values(u.StackType).map(t=>e.jsx(b,{value:t,children:I[t]},t))})]}),e.jsx(m,{})]})}),e.jsx(l,{control:s.control,name:"iconUrl",render:({field:r})=>e.jsxs(i,{children:[e.jsx(n,{children:"URL de icono"}),e.jsx(c,{children:e.jsx(x,{disabled:a,placeholder:"iconURL",...r,value:r.value===null?void 0:r.value})}),e.jsx(m,{})]})})]}),e.jsxs(C,{className:"flex size-max items-center gap-2 rounded-lg bg-lime-600 p-2 text-white hover:bg-lime-700 dark:bg-lime-600 dark:hover:bg-lime-700",disabled:a,type:"submit",children:[e.jsx(V,{className:"size-7"}),e.jsx("span",{className:"text-lg",children:"Guardar"})]})]})})}export{ye as UpdateStackForm};
