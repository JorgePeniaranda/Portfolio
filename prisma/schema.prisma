generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum ProjectStatus {
  FINISHED
  IN_PROGRESS
  STALLED
}

model Project {
  id               Int           @id @default(autoincrement())
  key              String        @unique
  name             String
  status           ProjectStatus
  startDate        DateTime      @map("start_date")
  endDate          DateTime?     @map("end_date")
  description      String
  goals            String[]
  whatContribution String?       @map("what_contribution")
  logoUrl          String?       @map("logo_url")
  primaryColor     String?       @map("primary_color")
  demoUrl          String?       @map("demo_url")
  githubUrl        String?       @map("github_url")
  techStacks       Stack[]       @relation("ProjectStacks")
  collaborators    Colaborator[] @relation("ProjectColaborators")
  createdAt        DateTime      @default(now()) @map("created_at")
  updatedAt        DateTime      @default(now()) @updatedAt @map("updated_at")
}

model Stack {
  id          Int       @id @default(autoincrement())
  name        String
  description String
  iconUrl     String    @map("icon_url")
  projects    Project[] @relation("ProjectStacks")
  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @default(now()) @updatedAt @map("updated_at")
}

model Colaborator {
  id               Int       @id @default(autoincrement())
  nickname         String    @unique
  githubUsername   String?   @map("github_username")
  linkedinUsername String?   @map("linkedin_username")
  project          Project[] @relation("ProjectColaborators")
  createdAt        DateTime  @default(now()) @map("created_at")
  updatedAt        DateTime  @default(now()) @updatedAt @map("updated_at")
}
