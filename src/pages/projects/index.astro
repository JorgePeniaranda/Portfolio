---
import { ArrowRight } from 'lucide-react'
import Logo from '../../assets/svg/logos/Logo.astro'
import Layout from '../../components/layouts/base.astro'
import { ProjectCardsManager } from '../../components/organisms/sorted-list-of-project-cards-by-favorites'
import { getAllProjectMin } from '../../services/project/getAllStackMin'
import { SecretCodeHint } from '../../components/atoms/secret-code-hint'

const Projects = await getAllProjectMin()
---

<Layout
  body={{
    class: 'bg-background dark:bg-background-dark'
  }}
  title="Proyectos"
>
  <main class="w-full h-full space-y-10 container">
    <nav class="h-max pt-2 flex justify-between items-center">
      <Logo class="w-28 aspect-square" />
      <a
        href="/stack"
        class="flex px-3 py-2 rounded-lg items-center gap-1 shadow-sm text-primary group relative m-1 cursor-pointer overflow-hidden border-2 border-primary font-semibold"
      >
        <span class="ease absolute top-1/2 h-0 w-80 origin-center -translate-x-20 rotate-45 bg-primary transition-all duration-300 group-hover:h-64 group-hover:-translate-y-32"/>
        <span class="ease relative text-primary transition duration-300 group-hover:text-white flex gap-2">
          ¿Te interesa mi stack?
          <ArrowRight />
        </span>
      </a>
    </nav>
    <section class="flex flex-col items-center gap-6">
      <article class="w-max flex flex-col text-center items-center gap-2.5">
        <h1 class="text-4xl font-semibold">Mis Proyectos</h1>
        <p class="text-lg text-gray-600 max-w-2xl">
          Una colección de proyectos en los que he trabajado, tanto por mi
          cuenta como en colaboración con otros. Cada uno tiene su propia
          historia y enfoque.
        </p>
      </article>
    </section>
    <ProjectCardsManager projects={Projects} client:load />
    <div class="fixed right-0 bottom-0">
      <SecretCodeHint position={1} client:visible />
    </div>
  </main>
</Layout>
